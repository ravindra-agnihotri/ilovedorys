<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Our Products ‚Äì Dory's Bakehouse</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
:root{
    --bg:#faebe3;
    --accent:#563e30;
    --text:#563e30;
    --card:rgba(253,239,193,0.45);
}

/* Page */
body{
    margin:0;
    font-family:'Poppins',system-ui;
    background:var(--bg);
    color:var(--text);
}

/* Header */
header{
    width:100%;
    background:#fff;
    padding:14px 20px;
    box-shadow:0 2px 8px rgba(0,0,0,0.08);
    display:flex;
    align-items:center;
    justify-content:center;
    position:sticky;
    top:0;
    z-index:1000;
}
header img.logo{
    height:64px;
}
.contact-btn{
    position:absolute;
    right:30px;
    background:var(--accent);
    color:#fff;
    padding:10px 15px;
    border-radius:8px;
    text-decoration:none;
    cursor:pointer;
    font-weight:500;
}

/* Contact popup */
.popup-overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.45);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:2000;
}
.popup-box{
    background:#faebe3;
    padding:22px;
    width:90%;
    max-width:380px;
    border-radius:14px;
    text-align:center;
    box-shadow:0 6px 22px rgba(0,0,0,0.14);
}
.popup-box h3{
    margin:0;
    font-size:22px;
    color:var(--text);
}
.popup-box p{
    font-size:18px;
    margin:10px 0;
}
.close-btn{
    margin-top:14px;
    background:var(--accent);
    color:#fff;
    padding:10px 18px;
    border-radius:8px;
    display:inline-block;
    cursor:pointer;
}

/* Products Grid */
.products-container{
    max-width:1000px;
    margin:40px auto;
    padding:16px;
}
.products-grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
    gap:18px;
}
.product-card{
    background:var(--card);
    padding:14px;
    border-radius:12px;
    box-shadow:0 6px 16px rgba(0,0,0,0.06);
    text-align:center;
}
.product-card img{
    width:100%;
    height:200px;
    object-fit:cover;
    border-radius:10px;
}
.product-card h4{
    margin:12px 0 6px;
    font-size:18px;
    color:var(--text);
}
.product-card p{
    font-size:14px;
    color:#6e5a52;
}

/* Manage Button */
.manage-btn{
    position:fixed;
    bottom:20px;
    left:20px;
    background:var(--accent);
    color:#fff;
    padding:12px 20px;
    border-radius:10px;
    text-decoration:none;
    font-weight:600;
    box-shadow:0 4px 12px rgba(0,0,0,0.14);
}
</style>
</head>

<body>

<header>
    <img src="logo/dorys.PNG" class="logo" alt="">
    <a class="contact-btn" onclick="openPopup()">Contact</a>
</header>

<h2 style="text-align:center;font-family:'Great Vibes';font-size:40px;margin:20px 0">
    Our Products
</h2>

<div class="products-container">
    <div class="products-grid" id="productsGrid">
        <!-- JS Loads Products -->
    </div>
</div>

<a href="/admin-products.html" class="manage-btn">Manage Products</a>

<!-- CONTACT POPUP -->
<div id="contactPopup" class="popup-overlay">
    <div class="popup-box">
        <h3>Contact Us</h3>
        <p>üìû <a href="tel:+917972932790 style="text-decoration:none;color:#563e30;font-weight:700">
            +91 9168445014
        </a></p>
        <p>üìç Dory's Bakehouse, Pune</p>
        <span class="close-btn" onclick="closePopup()">Close</span>
    </div>
</div>

<script>
/* Load products */
async function loadProducts(){
    const res = await fetch('/products/list');
    const arr = await res.json();
    const box = document.getElementById('productsGrid');

    if(!arr.length){
        box.innerHTML = `<p style="text-align:center;font-size:18px;">No products added yet.</p>`;
        return;
    }

    box.innerHTML = arr.map(p => `
        <div class="product-card">
            <img src="${p.image}">
            <h4>${p.name}</h4>
            <p>${p.description}</p>
        </div>
    `).join('');
}
loadProducts();

/* CONTACT POPUP */
function openPopup(){
    document.getElementById('contactPopup').style.display = 'flex';
}
function closePopup(){
    document.getElementById('contactPopup').style.display = 'none';
}
</script>

</body>
</html>
